# راهنمای API محصولات

## مدل محصولات شما با ویژگی‌های کامل آماده شد! 🎉

این مدل شامل تمام فیلدهای مورد نیاز برای فروشگاه گجت‌های هوشمند شما است.

## ویژگی‌های اصلی مدل Product:

### 📋 اطلاعات پایه
- نام و عنوان محصول
- توضیحات کامل و خلاصه
- دسته‌بندی (هدفون، ساعت هوشمند، دسته بازی و...)
- برند (سامسونگ، اپل، شیائومی و...)

### 💰 قیمت‌گذاری
- قیمت اصلی
- قیمت تخفیف
- درصد تخفیف (محاسبه خودکار)

### 🖼️ تصاویر
- تصویر اصلی
- تصاویر کوچک (thumbnails)
- گالری تصاویر

### 🔧 مشخصات فنی
- رنگ‌های موجود
- اتصالات (بلوتوث، وای‌فای، USB)
- باتری
- ابعاد و وزن
- ویژگی‌ها و سازگاری

### 📦 موجودی و وضعیت
- تعداد موجودی
- وضعیت فعال/غیرفعال
- موجودی رزرو شده

### ⭐ امتیاز و آمار
- میانگین امتیاز
- تعداد نظرات
- آمار فروش و بازدید

### 🏷️ تگ‌ها و برچسب‌ها
- ویژه، پرفروش، جدید، تخفیف ویژه

### 🚚 حمل و نقل
- ارسال رایگان
- وزن و ابعاد بسته‌بندی

## 🛠️ API Endpoints:

### روت‌های عمومی (بدون احراز هویت):
```
GET /products                    # دریافت همه محصولات با فیلتر
GET /products/featured          # محصولات ویژه
GET /products/discounted        # محصولات با تخفیف
GET /products/latest            # جدیدترین محصولات
GET /products/filters           # دریافت فیلترها (دسته‌ها، برندها)
GET /products/:id               # دریافت محصول با شناسه
GET /products/slug/:slug        # دریافت محصول با slug
```

### روت‌های مدیریتی (نیاز به احراز هویت ادمین):
```
POST /products                  # ایجاد محصول جدید
PUT /products/:id              # به‌روزرسانی محصول
PATCH /products/:id/stock      # به‌روزرسانی موجودی
DELETE /products/:id           # حذف محصول
```

## 📝 نمونه استفاده:

### دریافت محصولات با فیلتر:
```
GET /products?category=هدفون و ایرپاد&brand=سامسونگ&page=1&limit=12
```

### جستجو در محصولات:
```
GET /products?search=Galaxy Buds&sortBy=price.originalPrice&sortOrder=asc
```

### فیلتر بر اساس قیمت:
```
GET /products?minPrice=1000000&maxPrice=5000000
```

## 🎯 Virtual Fields (فیلدهای محاسبه شده):
- `finalPrice`: قیمت نهایی (با احتساب تخفیف)
- `discountAmount`: مبلغ تخفیف
- `isAvailable`: آیا محصول موجود است

## 🔍 Index‌ها برای عملکرد بهتر:
- جستجوی متنی در نام، عنوان و توضیحات
- ایندکس روی دسته‌بندی و برند
- ایندکس روی قیمت و امتیاز
- ایندکس روی تاریخ ایجاد و slug

## 📁 فایل‌های ایجاد شده:
- `src/models/Product.js` - مدل اصلی
- `src/modules/Product/product.controller.js` - کنترلر
- `src/modules/Product/product.route.js` - روت‌ها
- `src/modules/Product/product.validation.js` - اعتبارسنجی
- `sample-product.json` - نمونه دیتا برای تست

## 🚀 نحوه تست:
1. سرور را اجرا کنید: `npm run dev`
2. از نمونه دیتای `sample-product.json` برای ایجاد محصول استفاده کنید
3. ابتدا وارد شوید و سپس محصول ایجاد کنید (نیاز به ادمین)

## ⚠️ نکات مهم:
- برای ایجاد، ویرایش و حذف محصولات نیاز به احراز هویت ادمین دارید
- قیمت تخفیف نمی‌تواند بیشتر از قیمت اصلی باشد
- slug به صورت خودکار از نام محصول ساخته می‌شود
- درصد تخفیف به صورت خودکار محاسبه می‌شود

تمام فیلدهای مورد نیاز شما طبق عکس‌هایی که ارسال کردید، در این مدل گنجانده شده است! 🎯
